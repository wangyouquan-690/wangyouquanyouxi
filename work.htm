<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¤–å‡ºæ‰“å·¥ - æˆ‘æ˜¯â€œæƒâ€èƒ½ç‹</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: "å¾®è½¯é›…é»‘", sans-serif; }
        body { background: url("æ‰“å·¥é¡µé¢èƒŒæ™¯å›¾.jpg") no-repeat center; background-size: cover; min-height: 100vh; padding: 20px; color: #fff; }
        /* é¡¶éƒ¨å¯¼èˆª */
        .header { display: flex; justify-content: space-between; align-items: center; background: rgba(0,0,0,0.5); backdrop-filter: blur(8px); padding: 12px 20px; border-radius: 10px; margin-bottom: 30px; }
        .header-title { font-size: 20px; font-weight: bold; background: linear-gradient(135deg, #ffd700, #ff9500); -webkit-background-clip: text; background-clip: text; color: transparent; }
        .back-btn { padding: 8px 16px; border: none; border-radius: 6px; background: linear-gradient(135deg, #ff9500, #ff6b00); color: #fff; cursor: pointer; transition: transform 0.3s; }
        .back-btn:hover { transform: translateY(-2px); }
        /* çŠ¶æ€æ ï¼ˆæ–°å¢äººæ°”å±æ€§ï¼‰ */
        .status-bar { max-width: 1200px; margin: 0 auto 20px; background: rgba(0,0,0,0.5); padding: 10px 20px; border-radius: 8px; display: flex; justify-content: space-between; flex-wrap: wrap; gap: 10px; }
        .status-item { display: flex; align-items: center; gap: 8px; font-size: 14px; }
        .status-icon { color: #ffd700; }
        /* æ‰“å·¥é¢æ¿ */
        .work-panel { max-width: 1200px; margin: 0 auto; background: rgba(0,0,0,0.6); backdrop-filter: blur(10px); padding: 20px; border-radius: 12px; }
        .panel-title { font-size: 18px; text-align: center; padding-bottom: 10px; border-bottom: 1px solid rgba(255,255,255,0.2); margin-bottom: 20px; }
        .work-list { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; }
        /* åŒä¸€å±æ€§æ•´åˆå¡ç‰‡ */
        .work-card { background: rgba(255,255,255,0.1); padding: 20px; border-radius: 8px; }
        .card-header { display: flex; align-items: center; gap: 10px; margin-bottom: 15px; }
        .card-icon { font-size: 28px; color: #ffd700; }
        .card-title { font-size: 18px; font-weight: bold; }
        /* çº§åˆ«åˆ‡æ¢æ  */
        .level-tabs { display: flex; gap: 5px; margin-bottom: 15px; }
        .level-tab { flex: 1; padding: 8px 0; text-align: center; border: none; border-radius: 4px; background: rgba(255,255,255,0.2); color: #fff; cursor: pointer; }
        .level-tab.active { background: #ffd700; color: #000; font-weight: bold; }
        /* å·¥ä½œä¿¡æ¯åŒº */
        .work-info { margin-bottom: 15px; line-height: 1.8; }
        .work-btn { width: 100%; padding: 10px 0; border: none; border-radius: 6px; background: linear-gradient(135deg, #ffd700, #ff9500); color: #333; cursor: pointer; font-weight: bold; }
        .work-btn:disabled { background: rgba(255,255,255,0.3); color: rgba(255,255,255,0.6); cursor: not-allowed; }
        .cd-tip { font-size: 14px; color: #ff4444; margin-top: 10px; text-align: center; display: none; }
    </style>
</head>
<body>
    <!-- é¡¶éƒ¨å¯¼èˆª -->
    <div class="header">
        <div class="header-title">å¤–å‡ºæ‰“å·¥ä¸­å¿ƒ</div>
        <button class="back-btn" onclick="window.location.href='Aç°ä»£å…»æˆæ¸¸æˆ-æˆ‘æ˜¯â€œæƒâ€èƒ½ç‹ä¸»ç•Œé¢.htm'">è¿”å›ä¸»ç•Œé¢</button>
    </div>

    <!-- è§’è‰²çŠ¶æ€ï¼ˆæ–°å¢äººæ°”å±æ€§ï¼‰ -->
    <div class="status-bar">
        <div class="status-item"><span class="status-icon">ğŸ’°</span> å½“å‰é‡‘å¸ï¼š<span id="currentCoin">0</span></div>
        <div class="status-item"><span class="status-icon">ğŸ’»</span> ç¼–ç¨‹ï¼š<span id="programming">0</span></div>
        <div class="status-item"><span class="status-icon">ğŸ“š</span> å£æ‰ï¼š<span id="eloquence">0</span></div>
        <div class="status-item"><span class="status-icon">ğŸ¨</span> åŒ»æœ¯ï¼š<span id="medical">0</span></div>
        <div class="status-item"><span class="status-icon">ğŸ’ª</span> ä½“èƒ½ï¼š<span id="physical">0</span></div>
        <div class="status-item"><span class="status-icon">âœï¸</span> çµæ„Ÿï¼š<span id="inspiration">0</span></div>
        <div class="status-item"><span class="status-icon">ğŸ”¥</span> äººæ°”ï¼š<span id="popularity">0</span></div>
        <div class="status-item"><span class="status-icon">â±ï¸</span> æ‰“å·¥çŠ¶æ€ï¼š<span id="workStatus">ç©ºé—²</span></div>
    </div>

    <!-- æ‰“å·¥é¢æ¿ï¼ˆåŒä¸€å±æ€§æ•´åˆå¡ç‰‡ï¼‰ -->
    <div class="work-panel">
        <div class="panel-title">å¯é€‰æ‹©çš„æ‰“å·¥é¡¹ç›®ï¼ˆéœ€æ»¡è¶³å±æ€§è¦æ±‚ï¼‰</div>
        <div class="work-list">
            <!-- ç¼–ç¨‹å±æ€§å¡ç‰‡ -->
            <div class="work-card">
                <div class="card-header">
                    <div class="card-icon">ğŸ’»</div>
                    <div class="card-title">ç¼–ç¨‹å±æ€§ - ä»£ç ç›¸å…³å·¥ä½œ</div>
                </div>
                <div class="level-tabs">
                    <button class="level-tab active" data-type="programming" data-level="åˆçº§">åˆçº§</button>
                    <button class="level-tab" data-type="programming" data-level="ä¸­çº§">ä¸­çº§</button>
                    <button class="level-tab" data-type="programming" data-level="é«˜çº§">é«˜çº§</button>
                </div>
                <div class="work-info">
                    <div>å·¥ä½œåç§°ï¼šåŸºç¡€ä»£ç å½•å…¥</div>
                    <div>è¦æ±‚ï¼šç¼–ç¨‹â‰¥40</div>
                    <div>å¥–åŠ±ï¼š5000é‡‘å¸</div>
                    <div>å·¥æ—¶ï¼š12ç§’</div>
                </div>
                <button class="work-btn" data-require="programming" data-value="40" data-time="12" data-coin="5000" onclick="startWork(this)">å¼€å§‹æ‰“å·¥</button>
                <div class="cd-tip">æ‰“å·¥ä¸­ï¼Œå‰©ä½™Xç§’</div>
            </div>

            <!-- å£æ‰å±æ€§å¡ç‰‡ -->
            <div class="work-card">
                <div class="card-header">
                    <div class="card-icon">ğŸ“š</div>
                    <div class="card-title">å£æ‰å±æ€§ - æ²Ÿé€šç›¸å…³å·¥ä½œ</div>
                </div>
                <div class="level-tabs">
                    <button class="level-tab active" data-type="eloquence" data-level="åˆçº§">åˆçº§</button>
                    <button class="level-tab" data-type="eloquence" data-level="ä¸­çº§">ä¸­çº§</button>
                    <button class="level-tab" data-type="eloquence" data-level="é«˜çº§">é«˜çº§</button>
                </div>
                <div class="work-info">
                    <div>å·¥ä½œåç§°ï¼šç”µè¯å®¢æœæ¥çº¿</div>
                    <div>è¦æ±‚ï¼šå£æ‰â‰¥35</div>
                    <div>å¥–åŠ±ï¼š1000é‡‘å¸</div>
                    <div>å·¥æ—¶ï¼š10ç§’</div>
                </div>
                <button class="work-btn" data-require="eloquence" data-value="35" data-time="10" data-coin="1000" onclick="startWork(this)">å¼€å§‹æ‰“å·¥</button>
                <div class="cd-tip">æ‰“å·¥ä¸­ï¼Œå‰©ä½™Xç§’</div>
            </div>

            <!-- åŒ»æœ¯å±æ€§å¡ç‰‡ -->
            <div class="work-card">
                <div class="card-header">
                    <div class="card-icon">ğŸ¥</div>
                    <div class="card-title">åŒ»æœ¯å±æ€§ - åˆ›ä½œç›¸å…³å·¥ä½œ</div>
                </div>
                <div class="level-tabs">
                    <button class="level-tab active" data-type="medical" data-level="åˆçº§">åˆçº§</button>
                    <button class="level-tab" data-type="medical" data-level="ä¸­çº§">ä¸­çº§</button>
                    <button class="level-tab" data-type="medical" data-level="é«˜çº§">é«˜çº§</button>
                </div>
                <div class="work-info">
                    <div>å·¥ä½œåç§°ï¼šç®€å•è¯å•å¤„ç†æŠ¤å·¥</div>
                    <div>è¦æ±‚ï¼šåŒ»æœ¯â‰¥80</div>
                    <div>å¥–åŠ±ï¼š4590é‡‘å¸</div>
                    <div>å·¥æ—¶ï¼š15ç§’</div>
                </div>
                <button class="work-btn" data-require="art" data-value="80" data-time="15" data-coin="4590" onclick="startWork(this)">å¼€å§‹æ‰“å·¥</button>
                <div class="cd-tip">æ‰“å·¥ä¸­ï¼Œå‰©ä½™Xç§’</div>
            </div>

            <!-- ä½“èƒ½å±æ€§å¡ç‰‡ -->
            <div class="work-card">
                <div class="card-header">
                    <div class="card-icon">ğŸ’ª</div>
                    <div class="card-title">ä½“èƒ½å±æ€§ - ä½“åŠ›ç›¸å…³å·¥ä½œ</div>
                </div>
                <div class="level-tabs">
                    <button class="level-tab active" data-type="physical" data-level="åˆçº§">åˆçº§</button>
                    <button class="level-tab" data-type="physical" data-level="ä¸­çº§">ä¸­çº§</button>
                    <button class="level-tab" data-type="physical" data-level="é«˜çº§">é«˜çº§</button>
                </div>
                <div class="work-info">
                    <div>å·¥ä½œåç§°ï¼šå¿«é€’åŒ…è£¹åˆ†æ‹£</div>
                    <div>è¦æ±‚ï¼šä½“èƒ½â‰¥30</div>
                    <div>å¥–åŠ±ï¼š3000é‡‘å¸ + ä½“èƒ½+5</div>
                    <div>å·¥æ—¶ï¼š8ç§’</div>
                </div>
                <button class="work-btn" data-require="physical" data-value="30" data-time="8" data-coin="3000" data-stamina="5" onclick="startWork(this)">å¼€å§‹æ‰“å·¥</button>
                <div class="cd-tip">æ‰“å·¥ä¸­ï¼Œå‰©ä½™Xç§’</div>
            </div>

            <!-- çµæ„Ÿå±æ€§å¡ç‰‡ -->
            <div class="work-card">
                <div class="card-header">
                    <div class="card-icon">âœï¸</div>
                    <div class="card-title">çµæ„Ÿå±æ€§ - å†…å®¹ç›¸å…³å·¥ä½œ</div>
                </div>
                <div class="level-tabs">
                    <button class="level-tab active" data-type="inspiration" data-level="åˆçº§">åˆçº§</button>
                    <button class="level-tab" data-type="inspiration" data-level="ä¸­çº§">ä¸­çº§</button>
                    <button class="level-tab" data-type="inspiration" data-level="é«˜çº§">é«˜çº§</button>
                </div>
                <div class="work-info">
                    <div>å·¥ä½œåç§°ï¼šçŸ­å¥æ–‡æ¡ˆæ’°å†™</div>
                    <div>è¦æ±‚ï¼šçµæ„Ÿâ‰¥135</div>
                    <div>å¥–åŠ±ï¼š2000é‡‘å¸</div>
                    <div>å·¥æ—¶ï¼š10ç§’</div>
                </div>
                <button class="work-btn" data-require="inspiration" data-value="135" data-time="10" data-coin="2000" onclick="startWork(this)">å¼€å§‹æ‰“å·¥</button>
                <div class="cd-tip">æ‰“å·¥ä¸­ï¼Œå‰©ä½™Xç§’</div>
            </div>

            <!-- äººæ°”å±æ€§å¡ç‰‡ -->
            <div class="work-card">
                <div class="card-header">
                    <div class="card-icon">ğŸ”¥</div>
                    <div class="card-title">äººæ°”å±æ€§ - ç¤¾äº¤ç›¸å…³å·¥ä½œ</div>
                </div>
                <div class="level-tabs">
                    <button class="level-tab active" data-type="popularity" data-level="åˆçº§">åˆçº§</button>
                    <button class="level-tab" data-type="popularity" data-level="ä¸­çº§">ä¸­çº§</button>
                    <button class="level-tab" data-type="popularity" data-level="é«˜çº§">é«˜çº§</button>
                </div>
                <div class="work-info">
                    <div>å·¥ä½œåç§°ï¼šç²‰ä¸ç¾¤æ¶ˆæ¯ç»´æŠ¤</div>
                    <div>è¦æ±‚ï¼šäººæ°”â‰¥30</div>
                    <div>å¥–åŠ±ï¼š3500é‡‘å¸</div>
                    <div>å·¥æ—¶ï¼š8ç§’</div>
                </div>
                <button class="work-btn" data-require="popularity" data-value="30" data-time="8" data-coin="3500" onclick="startWork(this)">å¼€å§‹æ‰“å·¥</button>
                <div class="cd-tip">æ‰“å·¥ä¸­ï¼Œå‰©ä½™Xç§’</div>
            </div>
        </div>
    </div>

    <script>
        // 1. å·¥ä½œæ•°æ®é…ç½®ï¼ˆå¯¹åº”å„å±æ€§åˆ/ä¸­/é«˜çº§ï¼‰
        const workData = {
            programming: {
                åˆçº§: { name: 'åŸºç¡€ä»£ç å½•å…¥', req: 40, time: 12, coin: 5000, prop: null, propVal: 0 },
                ä¸­çº§: { name: 'æ¨¡å—åŠŸèƒ½è°ƒè¯•', req: 90, time: 18, coin: 8000, prop: null, propVal: 0 },
                é«˜çº§: { name: 'é¡¹ç›®æ¡†æ¶ä¼˜åŒ–', req: 320, time: 25, coin: 17000, prop: null, propVal: 0 }
            },
            eloquence: {
                åˆçº§: { name: 'ç”µè¯å®¢æœæ¥çº¿', req: 35, time: 10, coin: 1000, prop: null, propVal: 0 },
                ä¸­çº§: { name: 'å°å‹æ´»åŠ¨ä¸»æŒ', req: 85, time: 15, coin: 6500, prop: null, propVal: 0 },
                é«˜çº§: { name: 'å•†åŠ¡è°ˆåˆ¤ååŠ©', req: 275, time: 21, coin: 10000, prop: null, propVal: 0 }
            },
            medical: {
                åˆçº§: { name: 'ç®€å•è¯å•å¤„ç†æŠ¤å·¥', req: 80, time: 15, coin: 4590, prop: null, propVal: 0 },
                ä¸­çº§: { name: 'è¯æ–¹é…ç½®å†™ç¨¿åŒ»ç”Ÿ', req: 120, time: 50, coin: 7000, prop: null, propVal: 0 },
                é«˜çº§: { name: 'æ‰‹æœ¯ä¸´åºŠåˆ†é•œåŒ»å¸ˆ', req: 450, time: 128, coin: 31000, prop: null, propVal: 0 }
            },
           physical: {
                åˆçº§: { name: 'å¿«é€’åŒ…è£¹åˆ†æ‹£', req: 30, time: 8, coin: 3000, prop: 'physical', propVal: 5 },
                ä¸­çº§: { name: 'æˆ·å¤–ç‰©æ–™æ¬è¿', req: 50, time: 12, coin: 5000, prop: 'physical', propVal: 8 },
                é«˜çº§: { name: 'åœºé¦†è®¾å¤‡è£…å¸', req: 70, time: 18, coin: 8000, prop: 'physical', propVal: 12 }
            },
            inspiration: {
                åˆçº§: { name: 'çŸ­å¥æ–‡æ¡ˆæ’°å†™', req: 135, time: 10, coin: 2000, prop: null, propVal: 0 },
                ä¸­çº§: { name: 'å…¬ä¼—å·åˆç¨¿åˆ›ä½œ', req: 275, time: 17, coin: 6000, prop: null, propVal: 0 },
                é«˜çº§: { name: 'å“ç‰Œ slogan ç­–åˆ’', req: 935, time: 25, coin: 90000, prop: null, propVal: 0 }
            },
            popularity: {
                åˆçº§: { name: 'ç²‰ä¸ç¾¤æ¶ˆæ¯ç»´æŠ¤', req: 30, time: 8, coin: 3500, prop: null, propVal: 0 },
                ä¸­çº§: { name: 'çº¿ä¸‹åº”æ´æ´»åŠ¨ååŠ©', req: 150, time: 12, coin: 5500, prop: null, propVal: 0 },
                é«˜çº§: { name: 'å°å‹ç²‰ä¸è§é¢ä¼šç­¹å¤‡', req: 760, time: 38, coin: 28500, prop: null, propVal: 0 }
            }
        };

       // 2. åˆå§‹åŒ–æ•°æ®ï¼ˆä¸ä¸»é¡µé¢ç»Ÿä¸€å­˜å‚¨é”®ï¼‰
const STORAGE_KEY_CHAR = 'characterAttrs'; // å’Œä¸»é¡µé¢çš„'characterAttrs'å¯¹åº”
let currentCoin = parseInt(localStorage.getItem('currentCoin')) || 0;
// è¯»å–ä¸»é¡µé¢çš„å±æ€§ï¼ˆå­—æ®µåå’Œä¸»é¡µé¢ä¿æŒä¸€è‡´ï¼šprogramming/eloquenceç­‰ï¼‰
const characterAttrs = JSON.parse(localStorage.getItem(STORAGE_KEY_CHAR)) || { 
    programming: 0, // å¯¹åº”ä¸»é¡µé¢çš„programming
    eloquence: 0,
    medical: 0, // ä¸»é¡µé¢æ²¡æœ‰artï¼Œè‹¥ä¸»é¡µé¢è¦åŠ éœ€åŒæ­¥ï¼›æš‚æ—¶ä¿ç•™
    physical: 0, // å¯¹åº”ä¸»é¡µé¢çš„physical
    inspiration: 0, // å¯¹åº”ä¸»é¡µé¢çš„inspiration
    popularity: 0 // å¯¹åº”ä¸»é¡µé¢çš„popularity
};
let workInterval = null;

        // 3. é¡µé¢åŠ è½½æ—¶ï¼ŒåŒæ­¥ä¸»é¡µé¢çš„å±æ€§
window.onload = () => {
    document.getElementById('currentCoin').innerText = currentCoin;
    // å­—æ®µåå’Œä¸»é¡µé¢ä¿æŒä¸€è‡´ï¼šprogramming/physicalç­‰
    document.getElementById('programming').innerText = characterAttrs.programming || 0; // æ‰“å·¥é¡µé¢çš„idæ˜¯programï¼Œå¯¹åº”ä¸»é¡µé¢çš„programming
    document.getElementById('eloquence').innerText = characterAttrs.eloquence || 0;
    document.getElementById('medical').innerText = characterAttrs.medical || 0;
    document.getElementById('physical').innerText = characterAttrs.physical || 0; // æ‰“å·¥é¡µé¢çš„idæ˜¯staminaï¼Œå¯¹åº”ä¸»é¡µé¢çš„physical
    document.getElementById('inspiration').innerText = characterAttrs.inspiration || 0;
    document.getElementById('popularity').innerText = characterAttrs.popularity || 0;
};

        // 4. çº§åˆ«åˆ‡æ¢é€»è¾‘ï¼ˆä¿®å¤é«˜çº§æ ‡ç­¾æ— data-typeé—®é¢˜ï¼‰
        document.querySelectorAll('.level-tab').forEach(tab => {
            tab.addEventListener('click', function() {
                const type = this.dataset.type; // ç°åœ¨æ‰€æœ‰æ ‡ç­¾éƒ½æœ‰data-type
                const level = this.dataset.level;
                const card = this.closest('.work-card');
                const tabs = card.querySelectorAll('.level-tab');
                const infoDiv = card.querySelector('.work-info');
                const workBtn = card.querySelector('.work-btn');
                const data = workData[type][level];

                // åˆ‡æ¢æ ‡ç­¾æ¿€æ´»çŠ¶æ€
                tabs.forEach(t => t.classList.remove('active'));
                this.classList.add('active');

                // æ›´æ–°å·¥ä½œä¿¡æ¯
                infoDiv.innerHTML = `
                    <div>å·¥ä½œåç§°ï¼š${data.name}</div>
                    <div>è¦æ±‚ï¼š${getAttrName(type)}â‰¥${data.req}</div>
                    <div>å¥–åŠ±ï¼š${data.coin}é‡‘å¸${data.prop ? ' + ' + getAttrName(data.prop) + '+' + data.propVal : ''}</div>
                    <div>å·¥æ—¶ï¼š${data.time}ç§’</div>
                `;

                // æ¸…ç©ºæŒ‰é’®åŸæœ‰å±æ€§ï¼Œå†æ›´æ–°æ–°å±æ€§
                Object.keys(workBtn.dataset).forEach(key => delete workBtn.dataset[key]);
                workBtn.dataset.require = type;
                workBtn.dataset.value = data.req;
                workBtn.dataset.time = data.time;
                workBtn.dataset.coin = data.coin;
                if (data.prop) {
                    workBtn.dataset[data.prop] = data.propVal;
                }
            });
        });

        // 5. æ‰“å·¥æ ¸å¿ƒé€»è¾‘
function startWork(btn) {
    if (workInterval) {
        alert('å½“å‰æœ‰æ‰“å·¥ä»»åŠ¡è¿›è¡Œä¸­ï¼Œè¯·ç­‰å¾…å®Œæˆåå†æ“ä½œ~');
        return;
    }

    const requireAttr = btn.dataset.require;
    const requireValue = parseInt(btn.dataset.value);
    const workTime = parseInt(btn.dataset.time);
    const coinReward = parseInt(btn.dataset.coin);
    const prop = Object.keys(btn.dataset).find(key => key !== 'require' && key !== 'value' && key !== 'time' && key !== 'coin');
    const propVal = prop ? parseInt(btn.dataset[prop]) : 0;
    
    const card = btn.closest('.work-card');
    const cdTip = card.querySelector('.cd-tip');
    const allBtns = document.querySelectorAll('.work-btn');

    // å±æ€§æ ¡éªŒ
    if (characterAttrs[requireAttr] < requireValue) {
        alert(`å±æ€§ä¸è¶³ï¼éœ€${getAttrName(requireAttr)}â‰¥${requireValue}æ‰èƒ½æ‰“å·¥`);
        return;
    }

    // å¼€å§‹æ‰“å·¥
    allBtns.forEach(b => b.disabled = true);
    let remainTime = workTime;
    cdTip.style.display = 'block';
    cdTip.innerText = `æ‰“å·¥ä¸­ï¼Œå‰©ä½™${remainTime}ç§’`;
    document.getElementById('workStatus').innerText = 'æ‰“å·¥ä¸­';

    workInterval = setInterval(() => {
        remainTime--;
        cdTip.innerText = `æ‰“å·¥ä¸­ï¼Œå‰©ä½™${remainTime}ç§’`;

        if (remainTime <= 0) {
            clearInterval(workInterval);
            workInterval = null;

            // æ›´æ–°é‡‘å¸
            currentCoin += coinReward;
            localStorage.setItem('currentCoin', currentCoin);
            document.getElementById('currentCoin').innerText = currentCoin;

            // æ›´æ–°å±æ€§ ğŸ‘‰ğŸ‘‰ğŸ‘‰ è¿™å°±æ˜¯ä½ç½®3å¯¹åº”çš„åŒºåŸŸ ğŸ‘ˆğŸ‘ˆğŸ‘ˆ
            let rewardText = `${coinReward}é‡‘å¸`;
            if (prop) {
                // å­—æ®µæ˜ å°„ï¼šæ‰“å·¥é¡µé¢çš„staminaå¯¹åº”ä¸»é¡µé¢çš„physical
                const mainPageProp = prop === 'stamina' ? 'physical' : prop; 
                characterAttrs[mainPageProp] += propVal;
                // åŒæ­¥é¡µé¢æ˜¾ç¤ºï¼ˆæ‰“å·¥é¡µé¢çš„idå¯¹åº”ï¼‰
                const workPageId = prop === 'physical' ? 'stamina' : mainPageProp;
                document.getElementById(workPageId).innerText = characterAttrs[mainPageProp];
                rewardText += `ã€${getAttrName(prop)}+${propVal}`;
                // å­˜å‚¨åˆ°ä¸»é¡µé¢çš„é”®é‡Œ
                localStorage.setItem(STORAGE_KEY_CHAR, JSON.stringify(characterAttrs));
            }

            // æ¢å¤çŠ¶æ€
            alert(`æ‰“å·¥å®Œæˆï¼è·å¾—å¥–åŠ±ï¼š${rewardText}`);
            allBtns.forEach(b => b.disabled = false);
            cdTip.style.display = 'none';
            document.getElementById('workStatus').innerText = 'ç©ºé—²';
        }
    }, 1000);
}

        // è¾…åŠ©å‡½æ•°ï¼šè·å–å±æ€§åç§°
        function getAttrName(attrKey) {
            const attrMap = {
                programming: 'ç¼–ç¨‹', eloquence: 'å£æ‰', medical: 'åŒ»æœ¯',
                physical: 'ä½“èƒ½', inspiration: 'çµæ„Ÿ', popularity: 'äººæ°”'
            };
            return attrMap[attrKey];
        }

        window.onbeforeunload = () => clearInterval(workInterval);
    </script>
</body>
</html>